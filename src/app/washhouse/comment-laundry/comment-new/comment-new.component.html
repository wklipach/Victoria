<div class="container">

  <div class="row">
    <div class="col-2">
      <app-mainmenu></app-mainmenu>
    </div>
    <div class="col-10">
      <h3 class="alert alert-dark mt-4">Новая записка</h3>


<form [formGroup]="commentnewForm">


      <div class="d-flex justify-content-between my-2">
        <span class="p-0">От</span>
        <span class="p-0">{{nick}}</span>
      </div>


  <!--
  id_user_from
  date_from
  id_position_to
  id_branch
  situation
  data_situation
  summa
  ok
  bit_response
  date_response
  id_user_response
  comment_response
  -->


  <div class="d-flex justify-content-between my-2">
    <span class="p-0">Дата</span>
    <span class="text-muted">{{fromDate | date: 'dd.MM.yyyy hh:mm'}}</span>
  </div>

  <div class="d-flex justify-content-between my-2">
      <span class="p-0">Получатель</span>
      <select class="custom-select" #textPosition id="textPosition" formControlName="textPosition">
        <option [value]="chPosition.id" *ngFor="let chPosition of positionList">{{chPosition.name}}</option>
      </select>
   </div>


  <!--
  <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
   -->

  <div class="d-flex justify-content-between my-2">
     <span class="text-muted">Отделение</span>
     <span class="text-muted">{{BranchName}}</span>
  </div>


  <div class = "p-0">
      <label for = "situation">Ситуация</label>
      <textarea formControlName="situation" id="situation" class = "form-control" rows = "3" placeholder="Описание ситуации"></textarea>
    </div>

    <div class = "p-0">
      <label for = "data_situation">Данные</label>
      <textarea formControlName="data_situation" id="data_situation" class = "form-control" rows = "3" placeholder="Данные о ситуации"></textarea>
    </div>

  <div class="d-flex justify-content-between my-2">
        <span class="text-muted">Сумма, руб</span>
        <input formControlName="summa" class="form-control w-25" placeholder="Сумма">
  </div>


  {{ sError }}


  <div class="d-flex justify-content-start my-2">
        <button class="btn btn-outline-primary" (click)="saveMassage()">Отправить</button>
  </div>
  <!-- загрузка изображений -->
   <div>
        <input type="file" accept="image/*" id="avatar" (change)="onFileChange($event)" #fileInput style="display:none">
     <button type="button" class="btn btn-link" style="display: block; cursor: pointer; text-decoration: underline;"
             onclick="document.getElementById('avatar').click()">Загрузить изображение</button>
     <button type="button" class="btn btn-link" (click)="clearFile()" style="display: block; cursor: pointer; text-decoration: underline;">Очистить</button>

    </div>


  <div class="d-flex justify-content-between my-2">
    <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseInstruction" aria-expanded="false" aria-controls="collapseInstruction">
      Инструкция
    </button>
    <div class="collapse" id="collapseInstruction">
      <div class="custom-control custom-checkbox">
        <input type="checkbox" class="custom-control-input" id="checkboxInstruction" formControlName="checkInstructuion" (change)="OnCheckInstructuion()">
        <label class="custom-control-label" for="checkboxInstruction">Оформить как инструкцию</label>
      </div>

    </div>
  </div>


</form>

    </div>
  </div>

</div>
